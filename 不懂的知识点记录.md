## 知识点记录（CSS+JS）

## CSS样式

### 1.flex布局

```javascript
http://www.ruanyifeng.com/blog/2015/07/flex-examples.html
通常设置的是父元素：display:flex
子元素：flex:1

flex-direction:row | row-reverse | column | column-reverse;//主轴的方向
flex-wrap: nowrap | wrap | wrap-reverse; //项目都排在一条线（又称"轴线"）上
justify-content: flex-start | flex-end | center | space-between | space-around;//在主轴方向上的对齐方式
align-items: flex-start | flex-end | center | baseline | stretch;//在交叉轴上如何对齐
align-content: flex-start | flex-end | center | space-between | space-around | stretch;//多根轴线的对齐方式。如果项目只有一根轴线，该属性不起作用。
```

### 2.字体不换行...显示

```javascript
.view-text{
  /**
	思路：
	1.设置inline-block属相
	2.强制不换行
	3.固定高度
	4.隐藏超出部分
	5.显示“……”
  */
  display: inline-block;
  white-space: nowrap; 
  width: 100%; 
  overflow: hidden;
  text-overflow:ellipsis;
}
```

### 3.background用法

```javascript
background :url("~assets/img/common/collect.svg") 0 0/14px 14px;
用法：
background:
background-color background-image background-repeat background-attachment background-position / background-size background-origin background-clip
```

background-size背景图片的尺寸。默认值：'auto' 其他值：像素，百分比，contain，cover

background-origin背景图片的定位区域。 默认值：'padding-box'     'border-box' 、'content-box'(定义背景图片绘制的开始点)

background-clip背景的绘制区域。 默认值：'border-box'   还有'padding-box'、'content-box'(定义背景绘制的开始点)

### 4.伪类元素的使用

```javascript
.info-cfav::before {
  content: "";
  position: absolute;
  top: 4px;
  left: -12px;
  width: 14px;
  height: 14px;
  background :url("~assets/img/common/collect.svg") 0 0/14px 14px;
}
```

### 5.脱离文档流

------

## JS语法

### 1.防抖动和节流

- 防抖动：

  场景：input输入框，用户在每次输入一次字符，都向服务器发送一次请求，比如输入iphone，就发送了6次请求，对服务器负载很大；

  解决：采用定时器，延时500ms，如果用户没有操作，就发送请求，如果用户有操作，就先保存这些数据，等到一起发送；（只有在经过指定的间隔内，没有输入的情况下才会调用函数方法；）

  ```javascript
  debounce(func,delay){
        let timer = null;
        return function(...args){
          if(timer) clearTimeout(timer);
          timer = setTimeout(()=>{
            func.apply(this,args)
          },delay)
        }
      }
  
  const refresh=this.debounce(this.$refs.scroll.refresh);
  refresh(参数);
  ```

- 节流：

  节流就是在规定的时间间隔呢，重复触发函数，只有一次是成功调用；

  ```javascript
  // 1.时间戳方案
  function throttle(fn,wait){
      var pre = Date.now();
      return function(){
          var context = this;
          var args = arguments;
          var now = Date.now();
          if( now - pre >= wait){
              fn.apply(context,args);
              pre = Date.now();
          }
      }
  }
  
  function handle(){
      console.log(Math.random());
  }
      
  window.addEventListener("mousemove",throttle(handle,1000));
  
  // 2.定时器方案
  function throttle(fn,wait){
      var timer = null;
      return function(){
          var context = this;
          var args = arguments;
          if(!timer){
              timer = setTimeout(function(){
                  fn.apply(context,args);
                  timer = null;
              },wait)
          }
      }
  }
      
  function handle(){
      console.log(Math.random());
  }
      
  window.addEventListener("mousemove",throttle(handle,1000));
  ```

  